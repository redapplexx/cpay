(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{1470:(e,t,s)=>{"use strict";s.d(t,{AuthGuard:()=>c});var n=s(5155),r=s(2115),a=s(5695),l=s(3104),i=s(9503);function c(e){let{children:t,requireAuth:s=!0,redirectTo:c="/login"}=e,{user:o,loading:d}=(0,l.A)(),u=(0,a.useRouter)();return((0,r.useEffect)(()=>{d||(s&&!o?u.push(c):!s&&o&&u.push("/dashboard"))},[o,d,s,c,u]),d)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)(i.kt,{size:"lg",text:"Loading..."})}):s&&!o||!s&&o?null:(0,n.jsx)(n.Fragment,{children:t})}},2284:(e,t,s)=>{"use strict";s.d(t,{N:()=>c});var n=s(2115),r=s(6081),a=s(6101),l=s(9708),i=s(5155);function c(e){let t=e+"CollectionProvider",[s,c]=(0,r.A)(t),[o,d]=s(t,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:t,children:s}=e,r=n.useRef(null),a=n.useRef(new Map).current;return(0,i.jsx)(o,{scope:t,itemMap:a,collectionRef:r,children:s})};u.displayName=t;let m=e+"CollectionSlot",f=n.forwardRef((e,t)=>{let{scope:s,children:n}=e,r=d(m,s),c=(0,a.s)(t,r.collectionRef);return(0,i.jsx)(l.DX,{ref:c,children:n})});f.displayName=m;let x=e+"CollectionItemSlot",h="data-radix-collection-item",p=n.forwardRef((e,t)=>{let{scope:s,children:r,...c}=e,o=n.useRef(null),u=(0,a.s)(t,o),m=d(x,s);return n.useEffect(()=>(m.itemMap.set(o,{ref:o,...c}),()=>void m.itemMap.delete(o))),(0,i.jsx)(l.DX,{...{[h]:""},ref:u,children:r})});return p.displayName=x,[{Provider:u,Slot:f,ItemSlot:p},function(t){let s=d(e+"CollectionConsumer",t);return n.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(s.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[s.collectionRef,s.itemMap])},c]}},2712:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});var n=s(2115),r=globalThis?.document?n.useLayoutEffect:()=>{}},5185:(e,t,s)=>{"use strict";function n(e,t,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e?.(n),!1===s||!n.defaultPrevented)return t?.(n)}}s.d(t,{m:()=>n})},5695:(e,t,s)=>{"use strict";var n=s(8999);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},5845:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var n=s(2115),r=s(9033);function a({prop:e,defaultProp:t,onChange:s=()=>{}}){let[a,l]=function({defaultProp:e,onChange:t}){let s=n.useState(e),[a]=s,l=n.useRef(a),i=(0,r.c)(t);return n.useEffect(()=>{l.current!==a&&(i(a),l.current=a)},[a,l,i]),s}({defaultProp:t,onChange:s}),i=void 0!==e,c=i?e:a,o=(0,r.c)(s);return[c,n.useCallback(t=>{if(i){let s="function"==typeof t?t(e):t;s!==e&&o(s)}else l(t)},[i,e,l,o])]}},6081:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,q:()=>a});var n=s(2115),r=s(5155);function a(e,t){let s=n.createContext(t),a=e=>{let{children:t,...a}=e,l=n.useMemo(()=>a,Object.values(a));return(0,r.jsx)(s.Provider,{value:l,children:t})};return a.displayName=e+"Provider",[a,function(r){let a=n.useContext(s);if(a)return a;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function l(e,t=[]){let s=[],a=()=>{let t=s.map(e=>n.createContext(e));return function(s){let r=s?.[e]||t;return n.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return a.scopeName=e,[function(t,a){let l=n.createContext(a),i=s.length;s=[...s,a];let c=t=>{let{scope:s,children:a,...c}=t,o=s?.[e]?.[i]||l,d=n.useMemo(()=>c,Object.values(c));return(0,r.jsx)(o.Provider,{value:d,children:a})};return c.displayName=t+"Provider",[c,function(s,r){let c=r?.[e]?.[i]||l,o=n.useContext(c);if(o)return o;if(void 0!==a)return a;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:n})=>{let r=s(e)[`__scope${n}`];return{...t,...r}},{});return n.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(a,...t)]}},6154:(e,t,s)=>{Promise.resolve().then(s.bind(s,7578))},6654:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let n=s(2115);function r(e,t){let s=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=s.current;e&&(s.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(s.current=a(e,n)),t&&(r.current=a(t,n))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7578:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var n=s(5155),r=s(2115),a=s(6695),l=s(285),i=s(6209),c=s(4512),o=s(5243),d=s(8539),u=s(2396),m=s(9503),f=s(7481),x=s(9409);function h(){let{toast:e}=(0,f.dj)(),[t,s]=(0,r.useState)(!1),[i,c]=(0,r.useState)(null),[o,h]=(0,r.useState)("testConnection"),[p,j]=(0,r.useState)("{}"),g=async()=>{s(!0),c(null);try{let t;try{t=JSON.parse(p)}catch(t){e({title:"Invalid JSON",description:"Please enter valid JSON data",variant:"destructive"});return}let s=await u.B.callFunction(o,t);c(s),e({title:"Function Call Successful",description:"Function ".concat(o," executed successfully")})}catch(t){c({error:t.message}),e({title:"Function Call Failed",description:t.message,variant:"destructive"})}finally{s(!1)}},N=[{name:"testConnection",data:"{}",description:"Test basic connection to Firebase Functions"},{name:"testTransaction",data:'{"userId": "test-user-123", "amount": 500}',description:"Test transaction processing"},{name:"createWallet",data:'{"userId": "test-user-123", "currency": "PHP", "initialBalance": 1000}',description:"Create a new wallet"},{name:"getWalletBalance",data:'{"walletId": "your-wallet-id-here"}',description:"Get wallet balance (replace walletId)"},{name:"processTransaction",data:'{"fromWalletId": "wallet1", "toWalletId": "wallet2", "amount": 100, "currency": "PHP", "type": "transfer"}',description:"Process a transaction between wallets"}];return(0,n.jsxs)(a.Zp,{children:[(0,n.jsx)(a.aR,{children:(0,n.jsx)(a.ZB,{children:"Firebase Functions Testing Console"})}),(0,n.jsxs)(a.Wu,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"Select Function"}),(0,n.jsxs)(x.Select,{value:o,onValueChange:h,children:[(0,n.jsx)(x.SelectTrigger,{children:(0,n.jsx)(x.SelectValue,{placeholder:"Select a function"})}),(0,n.jsx)(x.SelectContent,{children:N.map(e=>(0,n.jsx)(x.SelectItem,{value:e.name,children:e.name},e.name))})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h4",{className:"font-medium",children:"Quick Presets:"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-2",children:N.map(e=>(0,n.jsx)(l.$,{variant:"outline",size:"sm",onClick:()=>{h(e.name),j(e.data)},className:"justify-start text-left",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e.name}),(0,n.jsx)("div",{className:"text-xs text-gray-600",children:e.description})]})},e.name))})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"Function Data (JSON)"}),(0,n.jsx)(d.T,{value:p,onChange:e=>j(e.target.value),placeholder:"Enter JSON data for the function...",rows:6,className:"font-mono text-sm"})]}),(0,n.jsx)(l.$,{onClick:g,disabled:t,className:"w-full",children:t?(0,n.jsx)(m.kt,{size:"sm",text:"Executing..."}):"Execute ".concat(o)}),i&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:"Result"}),(0,n.jsx)("div",{className:"p-4 bg-gray-50 rounded-lg",children:(0,n.jsx)("pre",{className:"text-sm overflow-auto",children:JSON.stringify(i,null,2)})})]})]})]})}var p=s(9275),j=s(1470),g=s(3104),N=s(7162);function v(){let{toast:e}=(0,f.dj)(),{user:t,logout:s}=(0,g.A)(),r=(0,p.WK)(),d=(0,p.EF)(),u=async()=>{let t=await r.execute({});t&&e({title:"Connection Test Successful",description:t.message})},x=async()=>{let t=await d.execute({userId:"test-user-"+Date.now(),amount:500});t&&e({title:"Transaction Test Successful",description:"".concat(t.message," - Amount: ₱").concat(t.amount)})},v=async()=>{await s()};return(0,n.jsx)(j.AuthGuard,{requireAuth:!0,children:(0,n.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(N.g,{size:"lg"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"CPay Fintech Dashboard"}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",(null==t?void 0:t.displayName)||(null==t?void 0:t.email)]})]})]}),(0,n.jsx)(l.$,{onClick:v,variant:"outline",children:"Sign Out"})]}),(0,n.jsxs)(a.Zp,{children:[(0,n.jsx)(a.aR,{children:(0,n.jsx)(a.ZB,{children:"Firebase Connection Test"})}),(0,n.jsxs)(a.Wu,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(l.$,{onClick:u,disabled:r.loading,children:r.loading?(0,n.jsx)(m.kt,{size:"sm",text:"Testing..."}):"Test Connection"}),(0,n.jsx)(l.$,{onClick:x,disabled:d.loading,variant:"outline",children:d.loading?(0,n.jsx)(m.kt,{size:"sm",text:"Testing..."}):"Test Transaction"})]}),r.error&&(0,n.jsx)("p",{className:"text-red-600 text-sm",children:r.error.message}),d.error&&(0,n.jsx)("p",{className:"text-red-600 text-sm",children:d.error.message})]})]}),(0,n.jsx)(h,{}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsx)(i.d,{}),(0,n.jsx)(c._,{})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,n.jsx)(o.N,{}),(0,n.jsxs)(a.Zp,{children:[(0,n.jsx)(a.aR,{children:(0,n.jsx)(a.ZB,{children:"System Status"})}),(0,n.jsx)(a.Wu,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,n.jsx)("span",{children:"Firebase Functions: Online"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,n.jsx)("span",{children:"Firestore Database: Online"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,n.jsx)("span",{children:"Firebase Storage: Online"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,n.jsx)("span",{children:"Authentication: Online"})]})]})})]})]}),(0,n.jsxs)(a.Zp,{children:[(0,n.jsx)(a.aR,{children:(0,n.jsx)(a.ZB,{children:"How to Test"})}),(0,n.jsx)(a.Wu,{children:(0,n.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"1. Test Connection"}),(0,n.jsx)("p",{children:'Click "Test Connection" to verify Firebase Functions are working.'})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"2. Use Functions Console"}),(0,n.jsx)("p",{children:"Use the Firebase Functions Console above to test any function with custom data."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"3. Create Wallet"}),(0,n.jsx)("p",{children:"Create a new wallet to test wallet management functions."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"4. Process Transactions"}),(0,n.jsx)("p",{children:"Use the wallet IDs to test transaction processing."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"5. Upload KYC Documents"}),(0,n.jsx)("p",{children:"Test document upload and KYC processing."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:"6. Monitor Logs"}),(0,n.jsx)("p",{children:"Check Firebase Console → Functions → Logs for detailed execution logs."})]})]})})]})]})})}},8539:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var n=s(5155),r=s(2115),a=s(9434);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});l.displayName="Textarea"},9033:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});var n=s(2115);function r(e){let t=n.useRef(e);return n.useEffect(()=>{t.current=e}),n.useMemo(()=>(...e)=>t.current?.(...e),[])}},9409:(e,t,s)=>{"use strict";s.d(t,{Select:()=>d,SelectContent:()=>h,SelectItem:()=>p,SelectTrigger:()=>m,SelectValue:()=>u});var n=s(5155),r=s(2115),a=s(9770),l=s(9556),i=s(7381),c=s(518),o=s(9434);let d=a.bL;a.YJ;let u=a.WT,m=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,n.jsxs)(a.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,n.jsx)(a.In,{asChild:!0,children:(0,n.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.l9.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,n.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=a.PP.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,n.jsx)(l.A,{className:"h-4 w-4"})})});x.displayName=a.wn.displayName;let h=r.forwardRef((e,t)=>{let{className:s,children:r,position:l="popper",...i}=e;return(0,n.jsx)(a.ZL,{children:(0,n.jsxs)(a.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,n.jsx)(f,{}),(0,n.jsx)(a.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,n.jsx)(x,{})]})})});h.displayName=a.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=a.JU.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,n.jsxs)(a.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.VF,{children:(0,n.jsx)(c.A,{className:"h-4 w-4"})})}),(0,n.jsx)(a.p4,{children:r})]})});p.displayName=a.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=a.wv.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,3644,4277,4453,1056,8519,6562,6691,9212,8441,1684,7358],()=>t(6154)),_N_E=e.O()}]);