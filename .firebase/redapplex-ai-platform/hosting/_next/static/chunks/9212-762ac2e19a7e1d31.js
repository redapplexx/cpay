"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9212],{1335:(e,t,s)=>{s.d(t,{z:()=>r});class a{track(e,t){if(!this.isEnabled)return void console.log("Analytics Event:",e,t);let s={event:e,properties:t,timestamp:Date.now()};this.sendToAnalytics(s)}trackPageView(e){this.track("page_view",{page:e})}trackUserAction(e,t){this.track("user_action",{action:e,...t})}trackError(e,t){this.track("error",{message:e.message,stack:e.stack,...t})}trackPerformance(e,t){this.track("performance",{metric:e,value:t})}sendToAnalytics(e){console.log("Analytics Event:",e)}constructor(){this.isEnabled=!0}}let r=new a},2396:(e,t,s)=>{s.d(t,{B:()=>n});var a=s(6104),r=s(1335);class l{async callFunction(e,t,s){try{let s=Date.now(),l=(0,a.httpsCallable)(a.Cn,e),n=await l(t),c=Date.now()-s;return r.z.trackPerformance("".concat(e,"_duration"),c),r.z.track("function_call_success",{function:e,duration:c}),n.data}catch(t){throw r.z.track("function_call_error",{function:e,error:t.message,code:t.code}),console.error("Error calling ".concat(e,":"),t),Error("Function call failed: ".concat(t.message))}}async createWallet(e){return this.callFunction("createWallet",e)}async getWalletBalance(e){return this.callFunction("getWalletBalance",{walletId:e})}async processTransaction(e){return this.callFunction("processTransaction",e)}async getTransactionHistory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return this.callFunction("getTransactionHistory",{walletId:e,limit:t})}async processMassPayout(e){return this.callFunction("processMassPayout",e)}async getPayoutStatus(e){return this.callFunction("getPayoutStatus",{batchId:e})}async updateFXRate(e){return this.callFunction("updateFXRate",e)}async getFXRate(e,t){return this.callFunction("getFXRate",{fromCurrency:e,toCurrency:t})}async uploadKYCDocument(e,t){return this.callFunction("uploadKYCDocument",{file:e,userId:t})}async processKYC(e){return this.callFunction("processKYC",{userId:e})}async createUser(e){return this.callFunction("createUser",e)}async updateUserProfile(e,t){return this.callFunction("updateUserProfile",{userId:e,profileData:t})}async testConnection(){return this.callFunction("testConnection",{})}async testTransaction(e){return this.callFunction("testTransaction",e)}}let n=new l},4512:(e,t,s)=>{s.d(t,{A:()=>m,_:()=>u});var a=s(5155),r=s(2115),l=s(6695),n=s(285),c=s(2523),i=s(9275),o=s(9503),d=s(7481);function u(){let{toast:e}=(0,d.dj)(),[t,s]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),j=(0,i.Ed)(),y=(0,i._L)(),f=async()=>{if(!t)return void e({title:"Error",description:"Please enter a wallet ID",variant:"destructive"});let s=await j.execute({walletId:t,limit:10});s&&(m(s),e({title:"Transaction History Retrieved",description:"Found ".concat(s.length," transactions")}))},v=async()=>{if(!p||!h)return void e({title:"Error",description:"Please fill in all fields",variant:"destructive"});let t=await y.execute({payouts:[{toWalletId:p,amount:parseFloat(h),currency:"PHP",description:"Test mass payout"}]});t&&e({title:"Mass Payout Processed",description:"Batch ID: ".concat(t.batchId,", Processed: ").concat(t.processedCount)})};return(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Transaction Management"})}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Transaction History"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.p,{placeholder:"Enter Wallet ID",value:t,onChange:e=>s(e.target.value)}),(0,a.jsx)(n.$,{onClick:f,disabled:j.loading,children:j.loading?(0,a.jsx)(o.kt,{size:"sm"}):"Get History"})]}),j.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:j.error.message})]}),u.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold",children:"Recent Transactions"}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto space-y-2",children:u.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-medium",children:e.type}),(0,a.jsxs)("span",{className:"text-green-600",children:["₱",e.amount]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.description," • ",new Date(e.timestamp).toLocaleString()]})]},t))})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Mass Payout Test"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)(c.p,{placeholder:"To Wallet ID",value:p,onChange:e=>g(e.target.value)}),(0,a.jsx)(c.p,{type:"number",placeholder:"Amount",value:h,onChange:e=>x(e.target.value)}),(0,a.jsx)(n.$,{onClick:v,disabled:y.loading,className:"w-full",children:y.loading?(0,a.jsx)(o.kt,{size:"sm",text:"Processing..."}):"Process Mass Payout"})]}),y.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:y.error.message})]})]})]})}let m=u},5243:(e,t,s)=>{s.d(t,{A:()=>h,N:()=>m});var a=s(5155),r=s(2115),l=s(6695),n=s(285),c=s(2523),i=s(5057),o=s(9275),d=s(9503),u=s(7481);function m(){let{toast:e}=(0,u.dj)(),[t,s]=(0,r.useState)(""),[m,h]=(0,r.useState)(null),[x,p]=(0,r.useState)(""),g=(0,o.Zj)(),j=(0,o.Ey)(),y=async()=>{if(!m||!t)return void e({title:"Error",description:"Please select a file and enter user ID",variant:"destructive"});let s=await g.execute({file:m,userId:t});s&&(p(s.url),e({title:"Document Uploaded",description:"Document ID: ".concat(s.documentId)}))},f=async()=>{if(!t)return void e({title:"Error",description:"Please enter a user ID",variant:"destructive"});let s=await j.execute({userId:t});s&&e({title:"KYC Processed",description:"Status: ".concat(s.status)})};return(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"KYC Management"})}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Upload KYC Document"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c.p,{placeholder:"User ID",value:t,onChange:e=>s(e.target.value)}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{htmlFor:"file-upload",children:"Select Document"}),(0,a.jsx)(c.p,{id:"file-upload",type:"file",accept:"image/*,.pdf",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&h(s)},className:"mt-1"})]}),(0,a.jsx)(n.$,{onClick:y,disabled:g.loading,className:"w-full",children:g.loading?(0,a.jsx)(d.kt,{size:"sm",text:"Uploading..."}):"Upload Document"})]}),g.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:g.error.message}),x&&(0,a.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-green-800 text-sm",children:"Document uploaded successfully!"}),(0,a.jsxs)("p",{className:"text-green-600 text-xs mt-1",children:["URL: ",x]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Process KYC"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(c.p,{placeholder:"User ID",value:t,onChange:e=>s(e.target.value)}),(0,a.jsx)(n.$,{onClick:f,disabled:j.loading,className:"w-full",children:j.loading?(0,a.jsx)(d.kt,{size:"sm",text:"Processing..."}):"Process KYC"})]}),j.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:j.error.message})]})]})]})}let h=m},6209:(e,t,s)=>{s.d(t,{A:()=>m,d:()=>u});var a=s(5155),r=s(2115),l=s(6695),n=s(285),c=s(2523),i=s(9275),o=s(9503),d=s(7481);function u(){let{toast:e}=(0,d.dj)(),[t,s]=(0,r.useState)(""),[u,m]=(0,r.useState)(null),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),j=(0,i.dA)(),y=(0,i.DM)(),f=(0,i.hD)(),v=async()=>{let t="test-user-"+Date.now(),a=await j.execute({userId:t,currency:"PHP",initialBalance:1e3});a&&(s(a.walletId),e({title:"Wallet Created",description:"Wallet ID: ".concat(a.walletId)}))},N=async()=>{if(!t)return void e({title:"Error",description:"Please enter a wallet ID",variant:"destructive"});let s=await y.execute({walletId:t});s&&(m(s.balance),e({title:"Balance Retrieved",description:"".concat(s.balance," ").concat(s.currency)}))},C=async()=>{if(!t||!p||!h)return void e({title:"Error",description:"Please fill in all fields",variant:"destructive"});let s=await f.execute({fromWalletId:t,toWalletId:p,amount:parseFloat(h),currency:"PHP",type:"transfer",description:"Test transaction"});s&&(e({title:"Transaction Processed",description:"Transaction ID: ".concat(s.transactionId)}),N())};return(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"Wallet Management"})}),(0,a.jsxs)(l.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Create Wallet"}),(0,a.jsx)(n.$,{onClick:v,disabled:j.loading,className:"w-full",children:j.loading?(0,a.jsx)(o.kt,{size:"sm",text:"Creating..."}):"Create New Wallet"}),j.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:j.error.message})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Check Balance"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.p,{placeholder:"Enter Wallet ID",value:t,onChange:e=>s(e.target.value)}),(0,a.jsx)(n.$,{onClick:N,disabled:y.loading,children:y.loading?(0,a.jsx)(o.kt,{size:"sm"}):"Get Balance"})]}),null!==u&&(0,a.jsxs)("p",{className:"text-green-600 font-semibold",children:["Balance: ₱",u]}),y.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:y.error.message})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Process Transaction"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsx)(c.p,{placeholder:"From Wallet ID",value:t,onChange:e=>s(e.target.value)}),(0,a.jsx)(c.p,{placeholder:"To Wallet ID",value:p,onChange:e=>g(e.target.value)}),(0,a.jsx)(c.p,{type:"number",placeholder:"Amount",value:h,onChange:e=>x(e.target.value)}),(0,a.jsx)(n.$,{onClick:C,disabled:f.loading,className:"w-full",children:f.loading?(0,a.jsx)(o.kt,{size:"sm",text:"Processing..."}):"Process Transaction"})]}),f.error&&(0,a.jsx)("p",{className:"text-red-600 text-sm",children:f.error.message})]})]})]})}let m=u},9275:(e,t,s)=>{s.d(t,{DM:()=>d,EF:()=>p,Ed:()=>u,Ey:()=>h,WK:()=>x,Zj:()=>m,_L:()=>o,dA:()=>c,hD:()=>i,k$:()=>g});var a=s(2115),r=s(2396),l=s(1335);function n(e,t,s){let[n,c]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(null);return{execute:(0,a.useCallback)(async a=>{c(!0),o(null);try{l.z.track("function_call_start",{function:e});let s=await r.B.callFunction(e,a);return u(s),null==t||t(s),l.z.track("function_call_complete",{function:e}),s}catch(a){let t=a instanceof Error?a:Error("Unknown error");return o(t),null==s||s(t),l.z.track("function_call_failed",{function:e,error:t.message}),null}finally{c(!1)}},[e,t,s]),loading:n,error:i,result:d,reset:()=>{o(null),u(null)}}}function c(){return n("createWallet")}function i(){return n("processTransaction")}function o(){return n("processMassPayout")}function d(){return n("getWalletBalance")}function u(){return n("getTransactionHistory")}function m(){return n("uploadKYCDocument")}function h(){return n("processKYC")}function x(){return n("testConnection")}function p(){return n("testTransaction")}let g=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(null),n=(0,a.useCallback)(async e=>{t(!0),l(null);let s=await r.B.user.createUser(e);return t(!1),s.success||l(s.error||"Failed to create user"),s},[]),c=(0,a.useCallback)(async e=>{t(!0),l(null);let s=await r.B.user.getUser({userId:e});return t(!1),s.success||l(s.error||"Failed to get user"),s},[]);return{createUser:n,getUser:c,updateUser:(0,a.useCallback)(async(e,s)=>{t(!0),l(null);let a=await r.B.user.updateUser({userId:e,...s});return t(!1),a.success||l(a.error||"Failed to update user"),a},[]),listUsers:(0,a.useCallback)(async e=>{t(!0),l(null);let s=await r.B.user.listUsers({filters:e});return t(!1),s.success||l(s.error||"Failed to list users"),s},[]),loading:e,error:s}}}}]);